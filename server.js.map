{"version":3,"file":"server.js","sources":["../src/js/render.js","../src/js/server.js"],"sourcesContent":["export function teamplate(car) {\n  return `<li class=\"list-item\">\n          <p>${car.brand}</p>\n          <p>${car.model}</p>\n          <p>${car.year}</p>\n          <p>${car.price}</p>\n        </li>`;\n}\n\nexport function teamplates(cars) {\n  return cars.map(teamplate).join('');\n}\n","import axios from 'axios';\nimport { teamplates, teamplate } from './render';\n\nconst listElem = document.querySelector('.server-list');\n\nasync function fetchData() {\n  const baseURL = 'http://localhost:3000';\n  const endPoint = '/cars';\n  const url = baseURL + endPoint;\n\n  const res = await axios.get(url);\n  return res.data;\n}\n\ndocument.addEventListener('DOMContentLoaded', async e => {\n  e.preventDefault();\n  const result = await fetchData();\n  const markup = teamplates(result);\n\n  listElem.innerHTML = markup;\n});\n\nasync function createCar(car) {\n  const baseURL = 'http://localhost:3000';\n  const endPoint = '/cars';\n  const url = baseURL + endPoint;\n\n  const res = await axios.post(url, car);\n  return res.data;\n}\n\nconst createFormElem = document.querySelector('.js-form-create');\n\ncreateFormElem.addEventListener('submit', async e => {\n  e.preventDefault();\n  const boris = new FormData(createFormElem);\n  const data = {\n    brand: boris.get('post-brand'),\n    model: boris.get('post-model'),\n    year: boris.get('post-year'),\n    price: boris.get('post-price'),\n  };\n\n  const newCar = await createCar(data);\n  const markup = teamplate(newCar);\n  listElem.insertAdjacentHTML('afterbegin', markup);\n});\n"],"names":["teamplate","car","teamplates","cars","listElem","fetchData","url","axios","e","result","markup","createCar","createFormElem","boris","data","newCar"],"mappings":"oGAAO,SAASA,EAAUC,EAAK,CAC7B,MAAO;AAAA,eACMA,EAAI,KAAK;AAAA,eACTA,EAAI,KAAK;AAAA,eACTA,EAAI,IAAI;AAAA,eACRA,EAAI,KAAK;AAAA,cAExB,CAEO,SAASC,EAAWC,EAAM,CAC/B,OAAOA,EAAK,IAAIH,CAAS,EAAE,KAAK,EAAE,CACpC,CCRA,MAAMI,EAAW,SAAS,cAAc,cAAc,EAEtD,eAAeC,GAAY,CAGzB,MAAMC,EAFU,wBACC,QAIjB,OADY,MAAMC,EAAM,IAAID,CAAG,GACpB,IACb,CAEA,SAAS,iBAAiB,mBAAoB,MAAME,GAAK,CACvDA,EAAE,eAAc,EAChB,MAAMC,EAAS,MAAMJ,IACfK,EAASR,EAAWO,CAAM,EAEhCL,EAAS,UAAYM,CACvB,CAAC,EAED,eAAeC,EAAUV,EAAK,CAG5B,MAAMK,EAFU,wBACC,QAIjB,OADY,MAAMC,EAAM,KAAKD,EAAKL,CAAG,GAC1B,IACb,CAEA,MAAMW,EAAiB,SAAS,cAAc,iBAAiB,EAE/DA,EAAe,iBAAiB,SAAU,MAAMJ,GAAK,CACnDA,EAAE,eAAc,EAChB,MAAMK,EAAQ,IAAI,SAASD,CAAc,EACnCE,EAAO,CACX,MAAOD,EAAM,IAAI,YAAY,EAC7B,MAAOA,EAAM,IAAI,YAAY,EAC7B,KAAMA,EAAM,IAAI,WAAW,EAC3B,MAAOA,EAAM,IAAI,YAAY,CACjC,EAEQE,EAAS,MAAMJ,EAAUG,CAAI,EAC7BJ,EAASV,EAAUe,CAAM,EAC/BX,EAAS,mBAAmB,aAAcM,CAAM,CAClD,CAAC"}