{"version":3,"file":"gallery.js","sources":["../src/js/gallery.js"],"sourcesContent":["import axios from 'axios';\n\nconst formElem = document.querySelector('.js-form');\nconst listElem = document.querySelector('.js-gallery');\n\nformElem.addEventListener('submit', async e => {\n  e.preventDefault();\n  listElem.innerHTML = '';\n  const boris = new FormData(formElem);\n  const inputElem = boris.get('search-text');\n  try {\n    const result = await fetchData(inputElem, 1);\n    console.log(result);\n\n    render(result.hits);\n  } catch {\n    console.log('Error');\n  }\n  formElem.reset();\n});\n\nasync function fetchData(querry, page) {\n  const baseURL = 'https://pixabay.com/api/';\n\n  const params = {\n    key: '53379684-45c44d339c561808b5ad44122',\n    q: querry,\n    page: page,\n  };\n\n  const res = await axios.get(baseURL, { params });\n  return res.data;\n}\n\nfunction imgTeamplate(img) {\n  return `<li>\n          <img class=\"gallery-item\" src=\"${img.previewURL}\" width=\"${img.previewWidth}\" height=\"${img.previewHeight}\" />\n          <div>\n              <p>${img.views}</p>\n              <p>${img.downloads}</p>\n              <p>${img.likes}</p>\n              <p>${img.comments}</p>\n          </div>\n        </li>`;\n}\n\nfunction imgTeamplates(images) {\n  return images.map(imgTeamplate).join('');\n}\n\nfunction render(images) {\n  const result = imgTeamplates(images);\n\n  listElem.insertAdjacentHTML('afterbegin', result);\n}\n"],"names":["formElem","listElem","inputElem","result","fetchData","render","querry","page","baseURL","params","axios","imgTeamplate","img","imgTeamplates","images"],"mappings":"oGAEA,MAAMA,EAAW,SAAS,cAAc,UAAU,EAC5CC,EAAW,SAAS,cAAc,aAAa,EAErDD,EAAS,iBAAiB,SAAU,MAAM,GAAK,CAC7C,EAAE,eAAc,EAChBC,EAAS,UAAY,GAErB,MAAMC,EADQ,IAAI,SAASF,CAAQ,EACX,IAAI,aAAa,EACzC,GAAI,CACF,MAAMG,EAAS,MAAMC,EAAUF,EAAW,CAAC,EAC3C,QAAQ,IAAIC,CAAM,EAElBE,EAAOF,EAAO,IAAI,CACtB,MAAU,CACN,QAAQ,IAAI,OAAO,CACpB,CACDH,EAAS,MAAK,CAChB,CAAC,EAED,eAAeI,EAAUE,EAAQC,EAAM,CACrC,MAAMC,EAAU,2BAEVC,EAAS,CACb,IAAK,qCACL,EAAGH,EACH,KAAMC,CACV,EAGE,OADY,MAAMG,EAAM,IAAIF,EAAS,CAAE,OAAAC,CAAM,CAAE,GACpC,IACb,CAEA,SAASE,EAAaC,EAAK,CACzB,MAAO;AAAA,2CACkCA,EAAI,UAAU,YAAYA,EAAI,YAAY,aAAaA,EAAI,aAAa;AAAA;AAAA,mBAEhGA,EAAI,KAAK;AAAA,mBACTA,EAAI,SAAS;AAAA,mBACbA,EAAI,KAAK;AAAA,mBACTA,EAAI,QAAQ;AAAA;AAAA,cAG/B,CAEA,SAASC,EAAcC,EAAQ,CAC7B,OAAOA,EAAO,IAAIH,CAAY,EAAE,KAAK,EAAE,CACzC,CAEA,SAASN,EAAOS,EAAQ,CACtB,MAAMX,EAASU,EAAcC,CAAM,EAEnCb,EAAS,mBAAmB,aAAcE,CAAM,CAClD"}